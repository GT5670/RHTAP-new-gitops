:_newdoc-version: 2.16.0
:_template-generated: 2024-03-15
:_mod-docs-content-type: PROCEDURE

[id="view-security-insights-deployment_{context}"]
= View security insights

The promotion pipeline run offers a visual representation of all the tasks in a pipeline. A *green* status indicates successful completion, streamlining your workflow without extensive oversight.

The promotion pipeline tasks comprise:

* *`clone-repository`*: Clones the specified repository into the workspace, readying it for action with the git-clone Task.

* *`gather-deploy-images`*: Detects container images to scan based on the changes in the PR.

* *`verify-enterprise-contract`*: Validates the changed container images.  This task ensures images originate from a corporate standard or approved build system. It leverages the Enterprise Contract (EC) policies, working alongside Sigstore’s cosign tool, to assess the integrity of image signatures and attestations.

[NOTE]
====
You can click on any tasks within the pipeline run to access logs and additional details related to that task. 
====

== Enterprise contract task

The Enterprise Contract is a suite of tools designed to maintain software supply chain security. It allows for defining and enforcing policies related to how container images are built and tested.

The Enterprise Contract ensures container images produced by {ProductName} meet clearly defined requirements before releasing them to production. Should an image fail to meet these criteria, the EC generates a report outlining the specific issues that need to be addressed.

The {ProductName} build process utilizes link:https://tekton.dev/docs/chains/[Tekton Chains] to create a signed link:https://in-toto.io/in-toto/[in-toto] attestation of the build pipeline. The EC then leverages this signed attestation to cryptographically verify the build's integrity and assess it against a set of policies. These policies ensure that the build process adheres to prescribed best practices and any organization-specific security guidelines.

[discrete]
===  Interpreting compliance reports

The detailed reports generated by Enterprise Contract (EC) scans are instrumental in providing security insights crucial for maintaining a robust security posture. Here’s how to interpret these reports:

* *Policy Compliance Overview:* EC scans assess the application’s compliance with the Supply Chain Levels for Software Artifacts (SLSA) security framework. The reports list the checks conducted, the status (success, warning, failure) of each check, and provide messages for any warnings or failures observed.

* *Details Provided:* Policy reports detail:

** *Successful Checks*: Counts and specifics of policy rules met.
** *Warnings and Failures*: Any policy rules that resulted in warnings or failures, with messages explaining the reason.
** *Rule Compliance*: Specifics on how well the application adheres to individual policy rules, such as source code reference and attestation checks.

.The EC report
image::enterprise-contract.png[]

[discrete]
=== Utilizing the insights from compliance reports

The insights gleaned EC scan reports are critical for prioritizing security and compliance efforts:

* *Review Policy Compliance:* Ensure your application’s integrity by closely reviewing compliance with SLSA and other relevant standards. Address any compliance gaps as per the EC scan recommendations.

* *Streamline Report Review:* Employ provided filters within the reports to focus on significant areas, facilitating a more efficient review process and allowing for quick identification of critical issues and compliance gaps.

[role="_additional-resources"]
.Additional resources

* For more information on EC policy and configuration, refer link:https://access.redhat.com/documentation/en-us/red_hat_trusted_application_pipeline/{ProductVersion}/html/managing_compliance_with_enterprise_contract/[Managing compliance with Enterprise Contract].
